<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
<style>
#myCanvas {
    border:1px solid blue ; 
    background: khaki;
}
</style>
        

<script type="text/javascript">
var canvas;
var context;

function showGrid(){	// Get references to the canvas and then the drawing context
canvas = document.getElementById('myCanvas');
context = canvas.getContext('2d');	
context.lineWidth = 1;
context.strokeStyle = '#000';

var lineSpacing = 20;
var xPos = 0;	// Initialize the x and y positions
var yPos = 0;
var numberOfHorizontalLines = parseInt(canvas.height/lineSpacing);	
var numberOfVerticalLines = parseInt(canvas.width/lineSpacing);
var heighthalf = canvas.height/2;
var widthhalf = canvas.width/2;

context.translate(canvas.width/2,canvas.height/2);
context.scale(1,-1);
context.beginPath();	
context.moveTo(0,0);
context.lineTo(widthhalf,0);
context.stroke();
context.beginPath();	
context.moveTo(0,0);
context.lineTo(0,heighthalf);
context.stroke();
context.beginPath();	
context.moveTo(0,0);
context.lineTo(-widthhalf,0);
context.stroke();
context.beginPath();	
context.moveTo(0,0);
context.lineTo(0,-heighthalf);
context.stroke();
context.fillText("(0,0)",0,0);

// Lay the grid on to the canvas
for(var i=0;i<widthhalf;i=i+lineSpacing)
{
	context.beginPath();	
	context.moveTo(i,0);
	context.lineTo(i,heighthalf);
	context.stroke();
}

for(var i=0;i<heighthalf;i=i+lineSpacing)
{
	context.beginPath();	
	context.moveTo(0,i);
	context.lineTo(widthhalf,i);
	context.stroke();
}

parseEquation();
}
/*
function parseEquation(){
	//alert("call");
	var eqString = document.getElementById('equation').value;
	var startx = parseInt(document.getElementById('startpoint').value);
	var endx = parseInt(document.getElementById('endpoint').value);
	var step = parseInt(document.getElementById('steps').value);
	
    	var patt1 = /\s/g;
    	var result = eqString.match(patt1);
	if(result)
		alert("Enter linear equation in form ax+by=c without spaces ");
		
	
	var a = parseInt(eqString.substring(0,eqString.indexOf("x")));
	var b = parseInt(eqString.substring(eqString.indexOf("x")+1,eqString.indexOf("y")));
        var c = parseInt(eqString.substring(eqString.indexOf("=")+1));
       
        var starty = -(startx*a)/b + (c/b); 
        //alert("starty"+starty);
        var endy = -(endx*a)/b + (c/b);
        //alert("endy"+endy);
        //draw(a,b,c);
        
}
*/

function getValues(){
        this._eqString = document.getElementById('equation').value;
	this._startx = parseInt(document.getElementById('startpoint').value);
	this._endx = parseInt(document.getElementById('endpoint').value);
	this._step = parseInt(document.getElementById('steps').value);
        
        this._a = parseInt(eqString.substring(0,eqString.indexOf("x")));
	this._b = parseInt(eqString.substring(eqString.indexOf("x")+1,eqString.indexOf("y")));
        this._c = parseInt(eqString.substring(eqString.indexOf("=")+1));
    
}

getValues.prototype.get = function(){
         
         return [this._eqString,this._startx,this._endx,this._step,this._a,this._b,this._c];
}
      
    parseEquation.prototype = Object.create(getValues.prototype);
    parseEquation.prototype.constructor = parseEquation;


 function parseEquation(){
	//alert("call");
	/*var eqString = document.getElementById('equation').value;
	var startx = parseInt(document.getElementById('startpoint').value);
	var endx = parseInt(document.getElementById('endpoint').value);
	var step = parseInt(document.getElementById('steps').value);
	this._eqString=eqString;
        this._startx=startx;
        this._endx=endx;
        this._step=step;*/
        getValues.call(this);
    	var spacepattern = /\s/g;
    	var result = eqString.match(spacepattern);
	if(result)
		alert("Enter linear equation in form ax+by=c without spaces ");
		
	/*
	var a = parseInt(eqString.substring(0,eqString.indexOf("x")));
	var b = parseInt(eqString.substring(eqString.indexOf("x")+1,eqString.indexOf("y")));
        var c = parseInt(eqString.substring(eqString.indexOf("=")+1));
        this._a=a;
        this._b=b;
        this._c=c;*/
        
        this._starty = -(startx*a)/b + (c/b); 
        //this._starty=starty;
        //alert("starty"+starty);
        this._endy = -(endx*a)/b + (c/b);
        //this._endy=endy;
        //alert("endy"+endy);
        //draw();
        
}
        parseEquation.prototype = Object.create(getValues.prototype);
        parseEquation.prototype.constructor = parseEquation;

function draw(){
    parseEquation.call(this);
}

draw.prototype = Object.create(parseEquation.prototype);
draw.prototype.constructor = draw;



draw.prototype.set= function(){
	
        //var startx = parseInt(document.getElementById('startpoint').value);
	//var endx = parseInt(document.getElementById('endpoint').value);
	//var step = parseInt(document.getElementById('steps').value);
        var stepsize=(endx-startx)/step;
        //var starty = (-(startx*a)/b) + (c/b); 
        var newx=startx;
        for( var i=0;i<stepsize;i++){
            var newy = (-(newx*a)/b) + (c/b);
            var newxend=newx+step;
            var newyend = (-(newxend*a)/b) + (c/b);
            //alert(i);
            context.beginPath();
            context.moveTo(newx,newy);
            context.lineTo(newxend,newyend);
            context.stroke();
            context.arc(newxend,newyend,3,0,Math.PI*2,true);
            context.closePath();
            context.fill();
            //alert();
            newx=newx+step;
        }
	
}

var draw1=new draw();
draw1.set();

//window.addEventListener('load',showGrid,false);
</script>
</head>
    
<body>
<form>
Equation:<input type = "text" id = "equation"><br>
StartPoint:<input type = "text" id = "startpoint"><br>
EndPoint:<input type = "text" id = "endpoint"><br>
Steps:<input type = "text" id = "steps"><br> 
<input type="button" onclick="showGrid();" value="Submit"> 
</form>
<canvas id="myCanvas" width="800" height="800"></canvas><br>   
    
</body>
</html>
